name: csrlab

topology:
  kinds:
    cisco_csr1000v:
      image: ${IMAGE_REPO:=}vrnetlab/vr-csr:17.03.02
    linux:
      image: ghcr.io/hellt/network-multitool

  nodes:
    pe1:
      kind: cisco_csr1000v
      #startup-config: pe1.cfg
      
    pe2:
      kind: cisco_csr1000v
      #startup-config: pe2.cfg

    pe3:
      kind: cisco_csr1000v
      #startup-config: pe3.cfg

    core:
      kind: cisco_csr1000v
      #startup-config: core.cfg

    ce1:
      kind: cisco_csr1000v
      #startup-config: core.cfg

    ce2:
      kind: cisco_csr1000v
      #startup-config: core.cfg

    ce3:
      kind: cisco_csr1000v
      #startup-config: core.cfg

    ce4:
      kind: cisco_csr1000v
      #startup-config: core.cfg

  links:
    - endpoints: ["pe1:eth6", "ce1:eth5"]    # PE5:Gi2
  #  - endpoints: ["sw-1:eth7", "host-b:eth1"]
  #  - endpoints: ["sw-1:eth8", "host-a:eth1"]
  #  - endpoints: ["sw-1:eth53", "sw-5:eth5"]
  #  - endpoints: ["sw-2:eth3", "sw-4:eth7"]
  #  - endpoints: ["sw-2:eth5", "host-d:eth1"]
  #  - endpoints: ["sw-2:eth6", "host-c:eth1"]
  #  - endpoints: ["sw-2:eth52", "sw-5:eth4"]
  #  - endpoints: ["sw-3:eth2", "sw-5:eth2"]
  #  - endpoints: ["sw-3:eth3", "sw-4:eth53"]
  #  - endpoints: ["sw-3:eth4", "host-e:eth1"]
